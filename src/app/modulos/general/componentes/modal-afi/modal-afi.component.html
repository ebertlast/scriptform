<div id="{{modalid}}" class="modal fade" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3 class="smaller lighter blue no-margin">Afiliados</h3>
      </div>

      <div class="modal-body">

        <!-- Identificacion -->
        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="Identificacion" (click)="dbTid()" style="cursor: pointer"> Identificación:</label>
          <div class="col-sm-9" id="Identificacion">
            <div class="form-inline">
              <select name="tid" id="tid" [(ngModel)]="afiliado.TipoId" (change)="consultarDocumento()" style="width:200px">
                <option value=""></option>
                <option [ngValue]="tid.TipoID" *ngFor="let tid of tids">{{tid.DescripcionID}}</option>
              </select>
              <input (keyup)="consultarDocumento()" id="NumeroIdentificacion" name="NumeroIdentificacion" title="Número de documento de identidad"
                [(ngModel)]="afiliado.NumeroIdentificacion" placeholder="Número de identificación" class="form-control" type="text">
            </div>
          </div>
        </div>
        <!-- Apellidos -->
        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="Apellidos"> Apellidos:</label>
          <div class="col-sm-9" id="Apellidos">
            <div class="form-inline">
              <input id="PrimerApellido" name="PrimerApellido" [(ngModel)]="afiliado.PrimerApellido" placeholder="Primer Apellido" title="Primer Apellido"
                class="form-control" type="text">
              <input id="SegundoApellido" name="SegundoApellido" [(ngModel)]="afiliado.SegundoApellido" placeholder="Segundo Apellido"
                title="Segundo Apellido" class="form-control" type="text">
            </div>
          </div>
        </div>
        <!-- Nombres -->
        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="Nombres"> Nombres:</label>
          <div class="col-sm-9" id="Nombres">
            <div class="form-inline">
              <input id="PrimerNombre" name="PrimerNombre" [(ngModel)]="afiliado.PrimerNombre" placeholder="Primer Nombre" title="Primer Nombre"
                class="form-control" type="text">
              <input id="SegundoNombre" name="SegundoNombre" [(ngModel)]="afiliado.SegundoNombre" placeholder="Segundo Nombre" title="Segundo Nombre"
                class="form-control" type="text">
            </div>
          </div>
        </div>
        <!-- Género -->
        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="Género" (click)="dbGen()" style="cursor: pointer"> Género:</label>
          <div class="col-sm-9" id="Género">
            <div class="control-group">
              <select name="Genero" id="Generio">
                <option [value]="gen.GeneroID" *ngFor="let gen of gens">{{gen.DescripcionGenero}}</option>
              </select>
              <div class="radio inline" *ngIf="false">
                <label *ngFor="let gen of gens">
                  <input name="Genero" type="radio" class="ace" [value]="gen.GeneroID" [(ngModel)]="afiliado.Sexo">
                  <span class="lbl"> {{gen.DescripcionGenero}}</span>
                </label>
              </div>
            </div>
          </div>
        </div>
        <!-- Fecha de Nacimiento -->
        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="FNacimiento"> F. Nacimiento:</label>
          <div class="col-sm-9">
            <div class="control-group">
              <div class="input-group">
                <input class="form-control input-mask-date" type="text" id="FNacimiento" name="FNacimiento" [(ngModel)]="afiliado.FechaNacimiento">
                <span class="input-group-btn hide">
                  <button class="btn btn-sm btn-default" type="button">
                    <i class="ace-icon fa fa-calendar bigger-110"></i>
                    Go!
                  </button>
                </span>
              </div>
            </div>
          </div>
        </div>

        <!-- Parentesco -->
        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="Parentesco" (click)="dbTipr()" style="cursor: pointer"> Parentesco:</label>
          <div class="col-sm-9" id="Parentesco">
            <div class="form-inline">
              <select name="tipr" id="tipr" [(ngModel)]="afiliado.Parentesco" style="width:300px">
                <option value=""></option>
                <option [ngValue]="tipr" *ngFor="let tipr of tiprs">{{tipr.DescripcionTipoRelacion}}</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Etnia -->
        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="Etnia" (click)="dbEtn()" style="cursor: pointer"> Etnia:</label>
          <div class="col-sm-9" id="Etnia">
            <div class="form-inline">
              <select name="Etnia" id="Etnia" [(ngModel)]="afiliado.Etnia" style="width:200px">
                <option value=""></option>
                <option [ngValue]="etnia.CODIGO" *ngFor="let etnia of etnias">{{etnia.DESCRIPCION}}</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Datos de Domicilio -->
        <div class="form-group" style="text-align: center;">
          <label class="col-sm-12 control-label bolder blue" style="text-align: center;" for="Direccion{{dividdireccion}}">-- Domicilio --</label>
        </div>

        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="Telefonos">Teléfonos:</label>
          <div class="col-sm-9" id="Telefonos">
            <div class="form-inline">
              <input id="Celular{{dividdireccion}}" name="Celular{{dividdireccion}}" [(ngModel)]="afiliado.Celular" placeholder="Celular"
                title="Celular" class="form-control" type="text">
              <input id="TelefonoResidencia" name="TelefonoResidencia" [(ngModel)]="afiliado.TelefonoResidencia" placeholder="Residencia"
                title="Teléfono" class="form-control" type="text">
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="Direccion{{dividdireccion}}" (click)="dbZon()" style="cursor: pointer">Zona:</label>
          <div class="col-sm-9" id="Direccion{{dividdireccion}}">
            <div class="radio inline">
              <label *ngFor="let zona of zonas">
                <input name="Zona" type="radio" class="ace" value="{{zona.ZonaID}}" [(ngModel)]="afiliado.ZonaResidencia">
                <span class="lbl"> {{zona.DescripcionZona}}</span>
              </label>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="Direccion{{dividdireccion}}" (click)="dbMun()" style="cursor: pointer">Ciudad:</label>
          <div class="col-sm-9" id="Direccion{{dividdireccion}}">
            <div class="form-inline">
              <select name="CiudadResidencia{{dividdireccion}}" id="CiudadResidencia{{dividdireccion}}" [(ngModel)]="afiliado.CiudadResidencia">
                <option [ngValue]="municipio.MunicipioID" *ngFor="let municipio of municipios">{{municipio.MunicipioID}}</option>
              </select>
              <select style="width:300px" name="NombreCiudadResidencia{{dividdireccion}}" id="NombreCiudadResidencia{{dividdireccion}}"
                [(ngModel)]="afiliado.CiudadResidencia">
                <option [ngValue]="municipio.MunicipioID" *ngFor="let municipio of municipios">{{municipio.DescripcionMunicipio}} - {{municipio.DescripcionDepartamento}}</option>
              </select>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="Direccion{{dividdireccion}}">Dirección:</label>
          <div class="col-sm-9" id="Direccion{{dividdireccion}}">
            {{afiliado.DireccionResidencia}}
          </div>
          <app-generar-direccion [desplegado]="false" [divid]="dividdireccion" (EnviarDireccion)="setDireccion($event)"></app-generar-direccion>
        </div>

        <div class="form-group" style="text-align: center;">
          <label class="col-sm-12 control-label bolder blue" style="text-align: center;">-- IPS --</label>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="ipsMedicaGrupo">Médica:</label>
          <div class="col-sm-9" id="ipsMedicaGrupo">
            <div class="form-inline">
              <select name="IPSMedica" id="IPSMedica" [(ngModel)]="afiliado.IPSMedica" (change)="elegirIPSMedica()">
                <option value="{{ips.Codigo_Med_BH}}" *ngFor="let ips of ipsTodas">{{ips.Codigo_Med_BH}}</option>
              </select>
              <select name="IPSMedicaNombre" id="IPSMedicaNombre" [(ngModel)]="afiliado.IPSMedica" style="width:300px" (change)="elegirIPSMedica()">
                <option value="{{ips.Codigo_Med_BH}}" *ngFor="let ips of ipsTodas">{{ips.Prestador_Medico}} ({{ips.Regional}})</option>
              </select>
            </div>
          </div>
        </div>
        <p class="alert alert-info" *ngIf="ipsMedica.Codigo_Med_BH !== ''">
          {{ipsMedica.Codigo_Med_BH}}.- {{ipsMedica.Prestador_Medico}} ({{ipsMedica.Tipo}}). &nbsp; [{{ipsMedica.Direccion_Med}}]
          <br />
          <em>
            <b>IPS Odontológica por Defecto:</b> &nbsp; {{ipsMedica.Codigo_Odo_BH}}.- {{ipsMedica.Prestador_Odontologico}}
            &nbsp; [{{ipsMedica.Direccion_Odo}}]
          </em>
        </p>
        <div class="form-group" id="SeleccionIpsOdontologica" [ngClass]="{'hide': ipsMedica.Codigo_Med_BH===ipsMedica.Codigo_Odo_BH}">
          <label class="col-sm-3 control-label no-padding-right bolder blue" for="IPSOdontologicaGrupo">Odontológica:</label>
          <div class="col-sm-9" id="IPSOdontologicaGrupo">
            <div class="form-inline">
              <select name="IPSOdontologica" id="IPSOdontologica" [(ngModel)]="afiliado.IPSOdontologica" (change)="elegirIPSOdontologica()">
                <option value="{{ips.Codigo_Odo_BH}}" *ngFor="let ips of ipsIndependientes">{{ips.Codigo_Odo_BH}}</option>
              </select>
              <select name="IPSOdontologicaNombre" id="IPSOdontologicaNombre" [(ngModel)]="afiliado.IPSOdontologica" style="width:300px" (change)="elegirIPSOdontologica()">
                <option value="{{ips.Codigo_Odo_BH}}" *ngFor="let ips of ipsIndependientes">{{ips.Prestador_Odontologico}} ({{ips.Regional}})</option>
              </select>
            </div>
          </div>
        </div>
        <p class="alert alert-success" [ngClass]="{'hide': ipsMedica.Codigo_Med_BH===ipsMedica.Codigo_Odo_BH}">
          {{ipsOdontologica.Codigo_Odo_BH}}.- {{ipsOdontologica.Prestador_Odontologico}} ({{ipsOdontologica.Regional}})
          &nbsp; [{{ipsOdontologica.Direccion_Odo}}]

        </p>

        <table class="table table-striped table-bordered table-hover hide">
          <tr>
            <thead class="thin-border-bottom">
              <th>Tipo de Identificación</th>
              <th>Identificación</th>
            </thead>
            <tbody>
              <td>
                <select name="tid" id="tid" [(ngModel)]="afiliado.TipoId" (change)="consultarDocumento()">
                  <option value=""></option>
                  <option [ngValue]="tid.TipoID" *ngFor="let tid of tids">{{tid.DescripcionID}}</option>
                </select>
              </td>
              <td>
                <input (keyup)="consultarDocumento()" id="NumeroIdentificacion" name="NumeroIdentificacion" title="Número de documento de identidad"
                  [(ngModel)]="afiliado.NumeroIdentificacion" placeholder="Número de identificación" class="form-control" type="text">
              </td>
            </tbody>
            <thead class="thin-border-bottom">
              <th colspan="2">Apellidos</th>
            </thead>
            <tbody>
              <td colspan="2">
                <div class="form-group">
                  <div class="form-inline">
                    <input id="PrimerApellido" name="PrimerApellido" title="Primer apellido del afiliado" [(ngModel)]="afiliado.PrimerApellido"
                      placeholder="Primer Apellido" class="form-control" type="text">
                    <input id="SegundoApellido" name="SegundoApellido" title="Segundo Apellido del Afiliado" [(ngModel)]="afiliado.SegundoApellido"
                      placeholder="Segundo Apellido" class="form-control" type="text">
                  </div>
                </div>
              </td>
            </tbody>
          </tr>
        </table>


      </div>

      <div class="modal-footer">
        <label [ngClass]="{'hide': !cargando}">
          <small class="green">
            <b>Pensando...</b>
          </small>

          <span class="lbl middle"></span>
          <img src="assets/images/loading/pinwheel40x40.gif" alt="">
        </label>

        <button class="btn btn-sm btn-danger pull-right" data-dismiss="modal" [ngClass]="{'hide': cargando}">
          <i class="ace-icon fa fa-times"></i>
          Cerrar
        </button>
        <button class="btn btn-sm btn-success pull-right" (click)="enviarAfiliado($event)" data-dismiss="modal" [ngClass]="{'hide': cargando}">
          <i class="ace-icon fa fa-check"></i>
          Aceptar
        </button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
</div>
